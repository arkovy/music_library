# Веб-приложение для управления музыкальным каталогом

Это веб-приложение для управления музыкальным каталогом с использованием фреймворка Tornado и базы данных SQLAlchemy.

## Установка

1. Убедитесь, что у вас установлен Python 3.12.
2. Откройте проект в пайчарме или другом IDE
3. Создайте для этого проекта новое виртуальное окружение
4. Установите (pipenv) командой:
   
   ```bash
   pip install pipenv
   ```   
5. Далее перейдите в корневую папку командой:
   
   ```bash
   cd music_library
   ```

6. После чего установите все зависимости выполнив команду:

   ```bash
   pipenv install 
   ```

## Запуск приложения

1. Запустите файл \`src/server.py\` командой:

   ```bash
   python src/server.py
   ```

2. При желании вы сами можете задать номер порта, указав в командной строке, python server.py --port=(число из 4 цифр):

   ```bash
   python src/server.py --port 8000
   ```

   ```python
      async def main():
          parser = argparse.ArgumentParser()
          parser.add_argument('--port', type=int, default=8000)
          args = parser.parse_args()
         
          app = make_app()
         
          try:
              app.listen(args.port)
              print(f'Ваш порт: {args.port}')
              await asyncio.Future()
          except ValueError:
              print('Увы, вы ввели число больше или меньше указанного, повторите попытку')
   ```

   Этот фрагмент кода отвечает за запуск веб-приложения и прослушивание указанного порта.
   По умолчанию номер порта: 8000, но если пользователь зохочет помень его, то он с легкостью сделает это с помощью командной строки, после чего программа проверяет его корректность и, в случае успеха, запускает приложение на указанном порту. В случае ошибки выводит соответствующие сообщения.

## Описание структуры проекта

- `server.py`: Основной файл приложения, включая обработчики запросов и настройку Tornado.
- `db.py`: Файл для создания подключения к базе данных с использованием SQLAlchemy.
- `models.py`: Определение модели данных для музыкальных записей.
- `templates/`: Папка с шаблонами HTML-страниц.
- `create_schema.py/`: Папка с статическими файлами, такими как таблицы стилей CSS и скрипты JavaScript.

## Описание функциональности

- **Главная страница (`/`):** Отображает список музыкальных записей и форму для добавления новых.

- **Добавление музыки:** Пользователь может добавлять музыкальные записи, вводя название в текстовом поле формы.

- **Удаление музыки:** Пользователь может удалять музыкальные записи, нажимая кнопку "Delete" рядом с каждой записью.

- **WebSocket обновление:** Используется WebSocket для обновления клиентского интерфейса при добавлении новых музыкальных записей.

## Использованные технологии

- **Tornado:** Фреймворк для создания веб-приложений на Python.
- **SQLAlchemy:** ORM (Object-Relational Mapping) для работы с базой данных SQLite.
- **Bootstrap:** Используется для стилизации веб-интерфейса.

## Благодарность

Это приложение создано с использованием Tornado и SQLAlchemy. Благодарим сообщество разработчиков за предоставление этих отличных инструментов.
